<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>An important part of any algorithm is its runtime.  This is usually specified as an equation with a number of variables.  For example, the runtime of many popular sorting algorithms is N*lg(N), meaning that the amount of time it takes to run the algorithm is proportional to N times the base 2 logarithm of N.<br></br><br></br>
Your task is to write a method that approximates how long an algorithm will run, given its runtime and the values of the parameters involved.  For this approximation, you should assume that a computer can execute 1 billion (1E9) operations per second.  You will be given a vector &lt;string&gt;, <b>variables</b>, each element of which is of the form &quot;VAR VALUE&quot;, where VAR is an uppercase letter, and VALUE is an integer greater than 0.  You will also be given a string, <b>equation</b>, conforming to the following grammar:
<pre>
  equation ::= TERM '*' equation | TERM '+' equation | TERM
  TERM ::= VAR | 'lg(' VAR ')' | VAR^INT | INT^VAR
  VAR ::= a VAR from <b>variables</b>
  INT ::= an integer between 2 and 9, inclusive, with no leading zeros.
</pre>
You should calculate the time it takes to run the algorithm by evaluating <b>equation</b> with the given <b>variables</b> to obtain the total number of operations.  You should return a string in the form &quot;DURATION UNITS&quot;, where UNITS is either &quot;nanoseconds&quot;, &quot;microseconds&quot;, &quot;milliseconds&quot;, &quot;seconds&quot;, &quot;minutes&quot;, &quot;hours&quot;, &quot;days&quot;, or &quot;years&quot;.  You should use the largest unit for which DURATION is greater than or equal to 1.  You should truncate any fractional part of DURATION.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>TimeAnalysis</td></tr><tr><td>Method:</td><td>time</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, string</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string time(vector &lt;string&gt; variables, string equation)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The base 2 logarithm of a number N, can be calculated as log(N)/log(2), where log computes a logarithm in some other base.</td></tr><tr><td align="center" valign="top">-</td><td>'^' denotes exponentiation.</td></tr><tr><td align="center" valign="top">-</td><td>Use the standard order of operations.</td></tr><tr><td align="center" valign="top">-</td><td>Assume that every year has exactly 365 days.</td></tr><tr><td align="center" valign="top">-</td><td><b>equation</b> will contain no spaces.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>variables</b> will contain between 1 and 26 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>variables</b> will be formatted as &quot;VAR VALUE&quot;, where VAR is an uppercase letter, and VALUE is an integer.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>variables</b> will have a unique VAR.</td></tr><tr><td align="center" valign="top">-</td><td>Each VALUE will be between 2 and 1000000000 (1E9), inclusive, with no leading zeros.</td></tr><tr><td align="center" valign="top">-</td><td><b>equation</b> will be contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>equation</b> will be formatted as specified in the statement.</td></tr><tr><td align="center" valign="top">-</td><td>Each variable used in <b>equation</b> will be present in <b>variables</b>.</td></tr><tr><td align="center" valign="top">-</td><td>The return value will be less than 1000 years.</td></tr><tr><td align="center" valign="top">-</td><td>When the correct units are chosen, the duration will not be within 1e-3 of an integer.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;N 1000&quot;}</pre></td></tr><tr><td><pre>&quot;N*lg(N)&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;9 microseconds&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">With N=1000, N*lg(N) = 1000 * 9.966 operations.  This takes a little under 10 microseconds, so you should return &quot;9 microseconds&quot;.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;N 1000000000&quot;,&quot;M 10&quot;}</pre></td></tr><tr><td><pre>&quot;M*N*lg(N)&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;4 minutes&quot;</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;N 1000&quot;,&quot;M 205&quot;}</pre></td></tr><tr><td><pre>&quot;N^2*M+M^3&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;213 milliseconds&quot;</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;N 30&quot;}</pre></td></tr><tr><td><pre>&quot;2^N*N^2&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;16 minutes&quot;</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;N 29&quot;}</pre></td></tr><tr><td><pre>&quot;3^N*N^2&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;1 years&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">Despite the bad grammar, you should return &quot;1 years&quot;, not &quot;1 year&quot;.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
