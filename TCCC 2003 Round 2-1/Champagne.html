<html><body bgcolor="#ffffff" text="#333333"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Before you lies a tower of champagne glasses that must be filled.  Each glass rests upon exactly 2 other glasses beneath it, with the exception of the lowest row, which sits on the table.  An example of a 5 glass tall tower is shown below:<pre>
                             1
                           2   3
                         4   5   6
                       7   8   9   10
                    11  12  13   14   15
</pre><p>
Each glass can hold 2 units of champagne, and if more than 2 units of champagne fall into any glass, all but 2 of the units will overflow equally into the two glasses below it.  Thus, all of the champagne poured into glass 1 after the first 2 units will fall equally into glasses 2 and 3.  Once 2 and 3 overflow they will each, independently, distribute the champagne into the two glasses beneath them.  At that point glass 5 will be receiving champagne from both glasses 2 and 3.  Glass 4 will be receiving champagne from just glass 2, and glass 6 will be receiving champagne from just glass 3. 
</p><p>Given the <b>height</b> of the tower, the number of <b>units</b> poured into glass 1, and the number of a particular <b>glass</b>, return what fraction of that <b>glass</b> is full.  Your solution should be a reduced fraction (lowest terms) in the form &quot;<i>numerator/denominator</i>&quot; with no leading zeros in either the numerator or denominator.  Full glasses are denoted by &quot;1/1&quot; whereas empty glasses are denoted &quot;0/1&quot;.  The glasses are numbered in the same way as above, namely left to right, top to bottom.  Note, once a glass on the bottom layer is full, extra champagne will just spill onto the table.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Champagne</td></tr><tr><td>Method:</td><td>howMuch</td></tr><tr><td>Parameters:</td><td>int, int, int</td></tr><tr><td>Returns:</td><td>string</td></tr><tr><td>Method signature:</td><td>string howMuch(int height, int glass, int units)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Glass 1 is in the first row.  The glass beneath it, on its left side, is glass 2.  More generally, if glass <i>i</i> is in row <i>j</i> the glass beneath it, on its left side, if it exists, is glass <i>i+j</i>. </td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>height</b> must be between 1 and 20 inclusive</td></tr><tr><td align="center" valign="top">-</td><td><b>glass</b> must be a valid glass number given the value of height</td></tr><tr><td align="center" valign="top">-</td><td><b>units</b> must be between 1 and 300 inclusive</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;1/2&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">Pouring only 1 unit will fill the first and only glass half way.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;0/1&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The top glass is full, but no champagne has spilled into glass 2.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;1/4&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">The top glass is full and one unit of champagne has spilled out of it.  This spilled champagne is evenly distributed between glasses 2 and 3.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>7</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;1/8&quot;</pre></td></tr><tr><td><table><tr><td colspan="2">Pouring 6 units causes glasses 1 through 3 to be full.  The seventh unit of champagne will make its way to glasses 4 through 6.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>7</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;1/4&quot;</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>204</pre></td></tr><tr><td><pre>300</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;5581/131072&quot;</pre></td></tr><tr><td></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>20</pre></td></tr><tr><td><pre>204</pre></td></tr><tr><td><pre>299</pre></td></tr></table></td></tr><tr><td><pre>Returns: &quot;8663/262144&quot;</pre></td></tr><tr><td></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
